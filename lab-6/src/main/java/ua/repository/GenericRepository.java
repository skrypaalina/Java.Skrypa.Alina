package ua.repository; import java.util.*; import java.util.function.Function; public class GenericRepository<T>{ protected Map<Integer,T> storage=new HashMap<>(); private Function<T,Integer> idGetter; public GenericRepository(Function<T,Integer> idGetter){this.idGetter=idGetter;} public void add(T obj){storage.put(idGetter.apply(obj),obj);} public List<T> getAll(){return new ArrayList<>(storage.values());} public List<T> sort(Comparator<T> comp){return storage.values().stream().sorted(comp).toList();} }